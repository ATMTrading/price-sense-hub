export interface Market {
  id: string;
  code: 'SK' | 'PL' | 'HU' | 'CZ' | 'RO';
  domain: string;
  currency: 'EUR' | 'PLN' | 'HUF' | 'CZK' | 'RON';
  locale: 'sk-SK' | 'pl-PL' | 'hu-HU' | 'cs-CZ' | 'ro-RO';
  flag: string;
}

export const MARKETS: Market[] = [
  {
    id: '1',
    code: 'SK',
    domain: 'pricecomparise.sk',
    currency: 'EUR',
    locale: 'sk-SK',
    flag: 'üá∏üá∞'
  },
  {
    id: '2',
    code: 'PL',
    domain: 'pricecomparise.pl',
    currency: 'PLN',
    locale: 'pl-PL',
    flag: 'üáµüá±'
  },
  {
    id: '3',
    code: 'HU',
    domain: 'pricecomparise.hu',
    currency: 'HUF',
    locale: 'hu-HU',
    flag: 'üá≠üá∫'
  },
  {
    id: '4',
    code: 'CZ',
    domain: 'pricecomparise.cz',
    currency: 'CZK',
    locale: 'cs-CZ',
    flag: 'üá®üáø'
  },
  {
    id: '5',
    code: 'RO',
    domain: 'pricecomparise.ro',
    currency: 'RON',
    locale: 'ro-RO',
    flag: 'üá∑üá¥'
  }
];

export const TRANSLATIONS = {
  SK: {
    'nav.home': 'Domov',
    'nav.categories': 'Kateg√≥rie',
    'nav.searchPlaceholder': 'Hƒæada≈• produkty‚Ä¶',
    'btn.viewOffer': 'Zobrazi≈• ponuku',
    'btn.loadMore': 'Naƒç√≠ta≈• viac',
    'btn.clearFilters': 'Vymaza≈• filtre',
    'filter.sortBy': 'Triedi≈• podƒæa',
    'filter.priceRange': 'Cenov√© rozp√§tie',
    'filter.merchant': 'Obchod',
    'filter.availability': 'Dostupnos≈•',
    'filter.filters': 'Filtre',
    'sort.relevance': 'Relevancia',
    'sort.priceLow': 'Cena: Od najni≈æ≈°ej',
    'sort.priceHigh': 'Cena: Od najvy≈°≈°ej',
    'sort.newest': 'Najnov≈°ie',
    'sort.rating': 'Najlep≈°ie hodnoten√©',
    'availability.inStock': 'Skladom',
    'availability.limitedStock': 'Obmedzen√© mno≈æstvo',
    'availability.outOfStock': 'Nedostupn√©',
    'product.save': 'U≈°etr√≠te',
    'product.products': 'produktov',
    'product.productsFound': 'produktov n√°jden√Ωch',
    'msg.noResults': '≈Ωiadne v√Ωsledky',
    'hero.title': 'Najlep≈°ie ceny na jednom mieste',
    'hero.subtitle': 'Porovnajte ceny z tis√≠cov obchodov a u≈°etrite pri ka≈ædom n√°kupe',
    'categories.title': 'Kateg√≥rie produktov',
    'categories.electronics': 'Elektronika a pr√≠slu≈°enstvo',
    'categories.fashion': 'M√≥da',
    'categories.homeLiving': 'Domov a b√Ωvanie',
    'categories.homeElectronics': 'Dom√°ce spotrebiƒçe',
    'categories.health': 'Zdravie a kr√°sa',
    'categories.supplements': 'V√Ω≈æivov√© doplnky',
    'categories.children': 'Detsk√© potreby',
    'categories.toys': 'Hraƒçky a hry',
    'categories.sports': '≈†port a fitness',
    'topDeals.title': 'Najlep≈°ie ponuky',
    'footer.legal': 'Pr√°vne inform√°cie',
    'footer.contact': 'Kontakt',
    'footer.privacy': 'Ochrana s√∫kromia',
    'footer.market': 'Trh',
    'footer.currency': 'Mena',
    'footer.copyright': '¬© 2024 PriceComparise. V≈°etky pr√°va vyhraden√©.'
  },
  PL: {
    'nav.home': 'Strona g≈Ç√≥wna',
    'nav.categories': 'Kategorie',
    'nav.searchPlaceholder': 'Szukaj produkt√≥w‚Ä¶',
    'btn.viewOffer': 'Zobacz ofertƒô',
    'btn.loadMore': 'Za≈Çaduj wiƒôcej',
    'btn.clearFilters': 'Wyczy≈õƒá filtry',
    'filter.sortBy': 'Sortuj wed≈Çug',
    'filter.priceRange': 'Przedzia≈Ç cenowy',
    'filter.merchant': 'Sklep',
    'filter.availability': 'Dostƒôpno≈õƒá',
    'filter.filters': 'Filtry',
    'sort.relevance': 'Trafno≈õƒá',
    'sort.priceLow': 'Cena: Od najni≈ºszej',
    'sort.priceHigh': 'Cena: Od najwy≈ºszej',
    'sort.newest': 'Najnowsze',
    'sort.rating': 'Najlepiej oceniane',
    'availability.inStock': 'Dostƒôpny',
    'availability.limitedStock': 'Ograniczona dostƒôpno≈õƒá',
    'availability.outOfStock': 'Niedostƒôpny',
    'product.save': 'Oszczƒôdzasz',
    'product.products': 'produkt√≥w',
    'product.productsFound': 'produkt√≥w znalezionych',
    'msg.noResults': 'Brak wynik√≥w',
    'hero.title': 'Najlepsze ceny w jednym miejscu',
    'hero.subtitle': 'Por√≥wnuj ceny z tysiƒôcy sklep√≥w i oszczƒôdzaj przy ka≈ºdym zakupie',
    'categories.title': 'Kategorie produkt√≥w',
    'categories.electronics': 'Elektronika i akcesoria',
    'categories.fashion': 'Moda',
    'categories.homeLiving': 'Dom i ≈ºycie',
    'categories.homeElectronics': 'Sprzƒôt AGD',
    'categories.health': 'Zdrowie i uroda',
    'categories.supplements': 'Suplementy diety',
    'categories.children': 'Artyku≈Çy dzieciƒôce',
    'categories.toys': 'Zabawki i gry',
    'categories.sports': 'Sport i fitness',
    'topDeals.title': 'Najlepsze oferty',
    'footer.legal': 'Informacje prawne',
    'footer.contact': 'Kontakt',
    'footer.privacy': 'Polityka prywatno≈õci',
    'footer.market': 'Rynek',
    'footer.currency': 'Waluta',
    'footer.copyright': '¬© 2024 PriceComparise. Wszelkie prawa zastrze≈ºone.'
  },
  HU: {
    'nav.home': 'F≈ëoldal',
    'nav.categories': 'Kateg√≥ri√°k',
    'nav.searchPlaceholder': 'Term√©kek keres√©se‚Ä¶',
    'btn.viewOffer': 'Aj√°nlat megtekint√©se',
    'btn.loadMore': 'Tov√°bbiak bet√∂lt√©se',
    'btn.clearFilters': 'Sz≈±r≈ëk t√∂rl√©se',
    'filter.sortBy': 'Rendez√©s',
    'filter.priceRange': '√Årtartom√°ny',
    'filter.merchant': 'Keresked≈ë',
    'filter.availability': 'El√©rhet≈ës√©g',
    'filter.filters': 'Sz≈±r≈ëk',
    'sort.relevance': 'Relevancia',
    'sort.priceLow': '√År: Alacsony - Magas',
    'sort.priceHigh': '√År: Magas - Alacsony',
    'sort.newest': 'Leg√∫jabb',
    'sort.rating': 'Legjobb √©rt√©kel√©s',
    'availability.inStock': 'Rakt√°ron',
    'availability.limitedStock': 'Korl√°tozott k√©szlet',
    'availability.outOfStock': 'Elfogyott',
    'product.save': 'Megtakar√≠t√°s',
    'product.products': 'term√©k',
    'product.productsFound': 'term√©k tal√°lat',
    'msg.noResults': 'Nincs tal√°lat',
    'hero.title': 'A legjobb √°rak egy helyen',
    'hero.subtitle': 'Hasonl√≠tsd √∂ssze az √°rakat t√∂bb ezer boltb√≥l √©s sp√≥rolj minden v√°s√°rl√°sn√°l',
    'categories.title': 'Term√©kkateg√≥ri√°k',
    'categories.electronics': 'Elektronika √©s kieg√©sz√≠t≈ëk',
    'categories.fashion': 'Divat',
    'categories.homeLiving': 'Otthon √©s √©let',
    'categories.homeElectronics': 'H√°ztart√°si g√©pek',
    'categories.health': 'Eg√©szs√©g √©s sz√©ps√©g',
    'categories.supplements': 'T√°pl√°l√©kkieg√©sz√≠t≈ëk',
    'categories.children': 'Gyermek√°ruk',
    'categories.toys': 'J√°t√©kok √©s j√°t√©kok',
    'categories.sports': 'Sport √©s fitness',
    'topDeals.title': 'Legjobb aj√°nlatok',
    'footer.legal': 'Jogi inform√°ci√≥k',
    'footer.contact': 'Kapcsolat',
    'footer.privacy': 'Adatv√©delem',
    'footer.market': 'Piac',
    'footer.currency': 'P√©nznem',
    'footer.copyright': '¬© 2024 PriceComparise. Minden jog fenntartva.'
  },
  CZ: {
    'nav.home': 'Dom≈Ø',
    'nav.categories': 'Kategorie',
    'nav.searchPlaceholder': 'Hledat produkty‚Ä¶',
    'btn.viewOffer': 'Zobrazit nab√≠dku',
    'btn.loadMore': 'Naƒç√≠st v√≠ce',
    'btn.clearFilters': 'Vymazat filtry',
    'filter.sortBy': 'Se≈ôadit podle',
    'filter.priceRange': 'Cenov√© rozpƒõt√≠',
    'filter.merchant': 'Obchod',
    'filter.availability': 'Dostupnost',
    'filter.filters': 'Filtry',
    'sort.relevance': 'Relevance',
    'sort.priceLow': 'Cena: Od nejni≈æ≈°√≠',
    'sort.priceHigh': 'Cena: Od nejvy≈°≈°√≠',
    'sort.newest': 'Nejnovƒõj≈°√≠',
    'sort.rating': 'Nejl√©pe hodnocen√©',
    'availability.inStock': 'Skladem',
    'availability.limitedStock': 'Omezen√© mno≈æstv√≠',
    'availability.outOfStock': 'Nen√≠ skladem',
    'product.save': 'U≈°et≈ô√≠te',
    'product.products': 'produkt≈Ø',
    'product.productsFound': 'produkt≈Ø nalezeno',
    'msg.noResults': '≈Ω√°dn√© v√Ωsledky',
    'hero.title': 'Nejlep≈°√≠ ceny na jednom m√≠stƒõ',
    'hero.subtitle': 'Porovnejte ceny z tis√≠c≈Ø obchod≈Ø a u≈°et≈ôete p≈ôi ka≈æd√©m n√°kupu',
    'categories.title': 'Kategorie produkt≈Ø',
    'categories.electronics': 'Elektronika a p≈ô√≠slu≈°enstv√≠',
    'categories.fashion': 'M√≥da',
    'categories.homeLiving': 'Domov a bydlen√≠',
    'categories.homeElectronics': 'Dom√°c√≠ spot≈ôebiƒçe',
    'categories.health': 'Zdrav√≠ a kr√°sa',
    'categories.supplements': 'V√Ω≈æivov√© dopl≈àky',
    'categories.children': 'Dƒõtsk√© pot≈ôeby',
    'categories.toys': 'Hraƒçky a hry',
    'categories.sports': 'Sport a fitness',
    'topDeals.title': 'Nejlep≈°√≠ nab√≠dky',
    'footer.legal': 'Pr√°vn√≠ informace',
    'footer.contact': 'Kontakt',
    'footer.privacy': 'Ochrana soukrom√≠',
    'footer.market': 'Trh',
    'footer.currency': 'Mƒõna',
    'footer.copyright': '¬© 2024 PriceComparise. V≈°echna pr√°va vyhrazena.'
  },
  RO: {
    'nav.home': 'AcasƒÉ',
    'nav.categories': 'Categorii',
    'nav.searchPlaceholder': 'CƒÉuta»õi produse‚Ä¶',
    'btn.viewOffer': 'Vezi oferta',
    'btn.loadMore': '√éncarcƒÉ mai mult',
    'btn.clearFilters': '»òterge filtrele',
    'filter.sortBy': 'SorteazƒÉ dupƒÉ',
    'filter.priceRange': 'Interval de pre»õ',
    'filter.merchant': 'Magazin',
    'filter.availability': 'Disponibilitate',
    'filter.filters': 'Filtre',
    'sort.relevance': 'Relevan»õƒÉ',
    'sort.priceLow': 'Pre»õ: De la mic la mare',
    'sort.priceHigh': 'Pre»õ: De la mare la mic',
    'sort.newest': 'Cele mai noi',
    'sort.rating': 'Cel mai bine cotate',
    'availability.inStock': '√én stoc',
    'availability.limitedStock': 'Stoc limitat',
    'availability.outOfStock': 'Epuizat',
    'product.save': 'Economisi»õi',
    'product.products': 'produse',
    'product.productsFound': 'produse gƒÉsite',
    'msg.noResults': 'Niciun rezultat',
    'hero.title': 'Cele mai bune pre»õuri √Æntr-un singur loc',
    'hero.subtitle': 'Compara»õi pre»õurile din mii de magazine »ôi economisi»õi la fiecare cumpƒÉrƒÉturƒÉ',
    'categories.title': 'Categorii de produse',
    'categories.electronics': 'ElectronicƒÉ »ôi accesorii',
    'categories.fashion': 'ModƒÉ',
    'categories.homeLiving': 'CasƒÉ »ôi via»õƒÉ',
    'categories.homeElectronics': 'Electrocasnice',
    'categories.health': 'SƒÉnƒÉtate »ôi frumuse»õe',
    'categories.supplements': 'Suplimente nutritive',
    'categories.children': 'Articole pentru copii',
    'categories.toys': 'JucƒÉrii »ôi jocuri',
    'categories.sports': 'Sport »ôi fitness',
    'topDeals.title': 'Cele mai bune oferte',
    'footer.legal': 'Informa»õii legale',
    'footer.contact': 'Contact',
    'footer.privacy': 'Confiden»õialitate',
    'footer.market': 'Pia»õƒÉ',
    'footer.currency': 'MonedƒÉ',
    'footer.copyright': '¬© 2024 PriceComparise. Toate drepturile rezervate.'
  }
} as const;

export function detectMarket(): Market {
  // In a real app, this would check the actual domain
  // For demo purposes, default to HU where we have sample products
  const hostname = typeof window !== 'undefined' ? window.location.hostname : '';
  
  if (hostname.includes('.pl')) {
    return MARKETS.find(m => m.code === 'PL')!;
  }
  if (hostname.includes('.hu')) {
    return MARKETS.find(m => m.code === 'HU')!;
  }
  if (hostname.includes('.cz')) {
    return MARKETS.find(m => m.code === 'CZ')!;
  }
  if (hostname.includes('.ro')) {
    return MARKETS.find(m => m.code === 'RO')!;
  }
  
  return MARKETS.find(m => m.code === 'HU')!;
}

export function translate(key: keyof typeof TRANSLATIONS.SK, market: Market): string {
  return TRANSLATIONS[market.code][key] || key;
}

export function formatCurrency(amount: number, market: Market): string {
  return new Intl.NumberFormat(market.locale, {
    style: 'currency',
    currency: market.currency
  }).format(amount);
}

export function formatDate(date: Date, market: Market): string {
  return new Intl.DateTimeFormat(market.locale).format(date);
}